<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-02-09 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170209" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MaPSeq &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Massively Parallel Sequencing</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.renci.org" id="bannerRight">
                                                                                                <img src="images/renci-logo.png"  alt="RENCI"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2017-02-09
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.6.51-SNAPSHOT
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Manual</li>
                              
      <li>
  
                          <a href="manual/building.html" title="Building">
          <span class="none"></span>
        Building</a>
            </li>
                
      <li>
  
                          <a href="manual/modules.html" title="Modules">
          <span class="none"></span>
        Modules</a>
            </li>
                
      <li>
  
                          <a href="manual/workflows.html" title="Workflows">
          <span class="none"></span>
        Workflows</a>
            </li>
                
      <li>
  
                          <a href="manual/pipelines.html" title="Pipelines">
          <span class="none"></span>
        Pipelines</a>
            </li>
                
      <li>
  
                          <a href="manual/pipeline-archetype.html" title="Pipeline Archetype">
          <span class="none"></span>
        Pipeline Archetype</a>
            </li>
                
      <li>
  
                          <a href="manual/commands.html" title="Commands">
          <span class="none"></span>
        Commands</a>
            </li>
                
      <li>
  
                          <a href="manual/reporting.html" title="Reporting">
          <span class="none"></span>
        Reporting</a>
            </li>
                
      <li>
  
                          <a href="manual/ws-clients.html" title="Web Service clients">
          <span class="none"></span>
        Web Service clients</a>
            </li>
                              <li class="nav-header">Migration</li>
                              
      <li>
  
                          <a href="migration/04to05.html" title="v0.4 to v0.5">
          <span class="none"></span>
        v0.4 to v0.5</a>
            </li>
                              <li class="nav-header">Pipelines</li>
                              
      <li>
  
                          <a href="pipelines/unc.html" title="UNC Pipelines">
          <span class="none"></span>
        UNC Pipelines</a>
            </li>
                
      <li>
  
                          <a href="pipelines/renci.html" title="RENCI Pipelines">
          <span class="none"></span>
        RENCI Pipelines</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Summary">
          <span class="none"></span>
        Summary</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Code Management">
          <span class="none"></span>
        Source Code Management</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Management">
          <span class="none"></span>
        Issue Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="dependency-convergence.html" title="Dependency Convergence">
          <span class="none"></span>
        Dependency Convergence</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <span class="none"></span>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="dependency-management.html" title="Dependency Management">
          <span class="none"></span>
        Dependency Management</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <span class="none"></span>
        Distribution Management</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <span class="none"></span>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
              </ul>
        </li>
                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            
  
    <div class="section">
<h2><a name="About_MaPSeq"></a>About MaPSeq</h2>
      
<p>The Massively Parallel Sequencing project (MaPSeq), jointly
      developed by UNC Research Computing and RENCI, is a service
      oriented application (SOA) that facilitates and manages the
      execution of the computational aspect of sequencing projects. As
      an OSGi-based plugin architecture, MaPSeq provides researchers
      with a framework facilitating the construction, deployment, and
      activation of sequence analysis workflows.  Designed to
      opportunistically make use of available institution-wide
      computational resources, MaPSeq enables researchers to perform
      and manage elaborate analysis workflow on a specified set of
      data while keeping the data centralized and secure.</p>
    </div>    
    
<div class="section">
<h2><a name="Overview"></a>Overview</h2>
      
<p><img src="images/MaPSeqArchitecture.png" alt="" /></p>
      
<div class="section">
<h3><a name="Web_Services"></a>Web Services</h3>
	
<p>MaPSeq service interfaces are available as both RESTful and
	SOAP services using <a class="externalLink" href="http://cxf.apache.org">Apache
	CXF</a>.  The MaPSeq services are used by MaPSeq Modules to
	persist provenance of job metadata (where job ran, start time,
	end time, exit code, etc.).  The web services can also be used
	to upload/download files (ie, SampleSheets for CASAVA) or
	integrated into external clients.</p>
	
<p>Please refer to the <a href="images/edu.unc.mapseq.ws.png">Web Service API</a> for
	further details.</p>
      </div>
      
<div class="section">
<h3><a name="Pipelines"></a>Pipelines</h3>
	
<p>MaPSeq is built upon the OSGi framework (a plugin
	framework), and as such, a Pipeline is a defined as a plugin.
	More specifically, a MaPSeq Pipeline is a collection of
	bundles that include, at a minimum, the following:</p>
	
<table border="1" class="table table-striped">
	  
<tr class="a">
	    
<td align="left">a messaging destination/listener</td>
	    
<td align="left">A JMS destination is used as an
	    accessor to trigger WorkflowRun instances.</td>
	  </tr>
	  
<tr class="a">
	    
<td align="left">a workflow</td>
	    
<td align="left">The programmatic structure of a
	    collection of executables to be run serially.</td>
	  </tr>
	  
<tr class="a">
	    
<td align="left">an executor</td>
	    
<td align="left">The executor dequeues WorkflowRun instances at
	    a specified frequency and quantity. (ie, 10 WorkflowRun
	    instances every 5 minutes)</td>
	  </tr>
	  
<tr class="a">
	    
<td align="left">and a features file</td>
	    
<td align="left">The features file is used at deployment
	    time.  It describes all the bundles associated with this
	    pipeline (messaging, workflow, and executor).</td>
	  </tr>
	</table>
      </div>
      
<div class="section">
<h3><a name="Meta-scheduling"></a>Meta-scheduling</h3>
	
<p>HTCondor is used for MaPSeq's meta-scheduling.  DAGMan jobs
	are submitted to a locally configured HTCondor queue once a
	WorkflowRun instance is dequeued.  No jobs will be executed on
	any compute nodes directly configured to the HTCondor central
	manager where MaPSeq is installed.  Instead, HTCondor Glideins
	are used to dynamically provision remote compute resources.
	This allows for the growing or shrinking of compute resources
	as the demand grows or shrinks.</p>
      </div>
      
<div class="section">
<h3><a name="Grid_Access_Triage_Engine_GATE"></a>Grid Access Triage Engine (GATE)</h3>
	
<p><a class="externalLink" href="https://github.com/jdr0887/GATE/">GATE</a> is also
	built using Apache Karaf (an OSGi based container).  Where
	Pipelines are plugins for MaPSeq, GATE plugins exist for each
	compute resource.  Here is a short list of actively used
	plugins:</p>
	
<ul>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-UNC-Kure">UNC Kure</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-UNC-Topsail">UNC Topsail</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-RENCI-Hatteras">RENCI Hatteras</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-RENCI-BlueRidge">RENCI BlueRidge</a></li>
	</ul>
	
<p>The GATE engine traverses the available plugins and submits
	HTCondor Glideins to the appropriate cluster's submit host
	over SSH.  GATE will submit Glideins based on number of
	different factors, the most important of which include:</p>
	
<ul>
	  
<li>number of remote running Glidein jobs</li>
	  
<li>number of remote idle/pending Glidein jobs</li>
	  
<li>number of local running jobs</li>
	  
<li>number of local idle/pending jobs</li>
	  
<li>number of local held jobs</li>
	</ul>
	
<p>These Glideins are configured to register themselves back
	to the HTCondor central manager where MaPSeq is deployed.
	Once a compute resource is successfully registered, a
	matchmaking routine can pair a job to a compute element.
	Matchmaking is performed by HTCondor's negotiator deamon and
	is based on resolving set of ClassAd (attribues) at both the
	Job &amp; Machine level.</p>
      </div>
    </div>
    
<div class="section">
<h2><a name="Technologies_Used"></a>Technologies Used</h2>
      
<p>
	</p>
<ul>
	  
<li><a class="externalLink" href="http://jdr0887.github.io/jlrm">RENCI jLRM</a></li>
	  
<li><a class="externalLink" href="http://jdr0887.github.io/GATE">RENCI GATE</a></li>
	  
<li><a class="externalLink" href="http://activemq.apache.org/">Apache ActiveMQ</a></li>
	  
<li><a class="externalLink" href="http://cxf.apache.org/">Apache CXF</a></li>
	  
<li><a class="externalLink" href="http://karaf.apache.org/">Apache Karaf</a></li>
	  
<li><a class="externalLink" href="http://openjpa.apache.org/">Apache OpenJPA</a></li>
	  
<li><a class="externalLink" href="http://research.cs.wisc.edu/htcondor/">HTCondor</a></li>
	  
<li><a class="externalLink" href="http://www.postgresql.org/">PostgreSQL</a></li>
	</ul>
      
    </div>    
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2017
                        <a href="http://www.unc.edu/">UNC</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>

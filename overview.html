<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-09-19 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140919" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MaPSeq - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Massively Parallel Sequencing</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-09-19
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.5.6-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>Overview</a>
          </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="manual/index.html" title="Manual">
          <i class="icon-chevron-down"></i>
        Manual</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="manual/building.html" title="Building">
          <i class="none"></i>
        Building</a>
            </li>
                    
      <li>
  
                          <a href="manual/modules.html" title="Modules">
          <i class="none"></i>
        Modules</a>
            </li>
                    
      <li>
  
                          <a href="manual/workflows.html" title="Workflows">
          <i class="none"></i>
        Workflows</a>
            </li>
                    
      <li>
  
                          <a href="manual/pipelines.html" title="Pipelines">
          <i class="none"></i>
        Pipelines</a>
            </li>
                    
      <li>
  
                          <a href="manual/pipeline-archetype.html" title="Pipeline Archetype">
          <i class="none"></i>
        Pipeline Archetype</a>
            </li>
                    
      <li>
  
                          <a href="manual/commands.html" title="Commands">
          <i class="none"></i>
        Commands</a>
            </li>
                    
      <li>
  
                          <a href="manual/reporting.html" title="Reporting">
          <i class="none"></i>
        Reporting</a>
            </li>
                    
      <li>
  
                          <a href="manual/ws-clients.html" title="Web Service clients">
          <i class="none"></i>
        Web Service clients</a>
            </li>
              </ul>
        </li>
                                                            
      <li>
  
                          <a href="migration/index.html" title="Migration">
          <i class="icon-chevron-down"></i>
        Migration</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="migration/04to05.html" title="v0.4 to v0.5">
          <i class="none"></i>
        v0.4 to v0.5</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Pipelines</li>
                              
      <li>
  
                          <a href="casava.html" title="CASAVA">
          <i class="none"></i>
        CASAVA</a>
            </li>
                
      <li>
  
                          <a href="rnaseq.html" title="RNASeq">
          <i class="none"></i>
        RNASeq</a>
            </li>
                
      <li>
  
                          <a href="ncgenes.html" title="NCGenes">
          <i class="none"></i>
        NCGenes</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            
  
    <div class="section">
<h2>Overview<a name="Overview"></a></h2>
      
<p><img src="images/MaPSeqArchitecture.png" alt="" /></p>
      
<div class="section">
<h3>Web Services<a name="Web_Services"></a></h3>
	
<p>MaPSeq service interfaces are available as both RESTful and
	SOAP services using <a class="externalLink" href="http://cxf.apache.org">Apache
	CXF</a>.  The MaPSeq services are used by MaPSeq Modules to
	persist provenance of job metadata (where job ran, start time,
	end time, exit code, etc.).  The web services can also be used
	to upload/download files (ie, SampleSheets for CASAVA) or
	integrated into external clients.</p>
	
<p>Please refer to the <a href="images/edu.unc.mapseq.ws.png">Web Service API</a> for
	further details.</p>
      </div>
      
<div class="section">
<h3>Pipelines<a name="Pipelines"></a></h3>
	
<p>MaPSeq is built upon the OSGi framework (a plugin
	framework), and as such, a Pipeline is a defined as a plugin.
	More specifically, a MaPSeq Pipeline is a collection of
	bundles that include, at a minimum, the following:
	  </p>
<table border="1" class="table table-striped">
	    
<tr class="a">
	      
<td align="left">a messaging destination/listener</td>
	      
<td align="left">A JMS destination is used as an
	      accessor to trigger WorkflowRun instances.</td>
	    </tr>
	    
<tr class="a">
	      
<td align="left">a workflow</td>
	      
<td align="left">The programmatic structure of a
	      collection of executables to be run serially.</td>
	    </tr>
	    
<tr class="a">
	      
<td align="left">an executor</td>
	      
<td align="left">The executor dequeues WorkflowRun instances at
	      a specified frequency and quantity. (ie, 10 WorkflowRun
	      instances every 5 minutes)</td>
	    </tr>
	    
<tr class="a">
	      
<td align="left">and a features file</td>
	      
<td align="left">The features file is used at deployment
	      time.  It describes all the bundles associated with this
	      pipeline (messaging, workflow, and executor).</td>
	    </tr>
	  </table>
	
      </div>
      
<div class="section">
<h3>Meta-scheduling<a name="Meta-scheduling"></a></h3>
	
<p>HTCondor is used for MaPSeq's meta-scheduling.  DAGMan jobs
	are submitted to a locally configured HTCondor queue once a
	WorkflowRun instance is dequeued.  No jobs will be executed on
	any compute nodes directly configured to the HTCondor central
	manager where MaPSeq is installed.  Instead, HTCondor Glideins
	are used to dynamically provision remote compute resources.
	This allows for the growing or shrinking of compute resources
	as the demand grows or shrinks.</p>
      </div>
      
<div class="section">
<h3>Grid Access Triage Engine (GATE)<a name="Grid_Access_Triage_Engine_GATE"></a></h3>
	
<p><a class="externalLink" href="https://github.com/jdr0887/GATE/">GATE</a> is also
	built using Apache Karaf (an OSGi based container).  Where
	Pipelines are plugins for MaPSeq, GATE plugins exist for each
	compute resource.  Here is a short list of actively used
	plugins:</p>
	
<ul>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-UNC-Kure">UNC Kure</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-UNC-Topsail">UNC Topsail</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-RENCI-Hatteras">RENCI Hatteras</a></li>
	  
<li><a class="externalLink" href="https://github.com/jdr0887/GATE-Plugin-RENCI-BlueRidge">RENCI BlueRidge</a></li>
	</ul>
	
<p>The GATE engine traverses the available plugins and submits
	HTCondor Glideins to the appropriate cluster's submit host
	over SSH.  GATE will submit Glideins based on number of
	different factors, the most important of which include:</p>
	
<ul>
	  
<li>number of remote running Glidein jobs</li>
	  
<li>number of remote idle/pending Glidein jobs</li>
	  
<li>number of local running jobs</li>
	  
<li>number of local idle/pending jobs</li>
	  
<li>number of local held jobs</li>
	</ul>
	
<p>These Glideins are configured to register themselves back
	to the HTCondor central manager where MaPSeq is deployed.
	Once a compute resource is successfully registered, a
	matchmaking routine can pair a job to a compute element.
	Matchmaking is performed by HTCondor's negotiator deamon and
	is based on resolving set of ClassAd (attribues) at both the
	Job &amp; Machine level.</p>
      </div>
    </div>
  

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.unc.edu/">UNC</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2014-09-10
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MaPSeq - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20140910" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                  <span id="bannerLeft">
                                                <img src="" alt="" />
                </span>
                        <span id="bannerRight">
                                                <img src="" alt="" />
                </span>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                   <div class="xleft">
        Last Published: 2014-09-10
                  &nbsp;| Version: 0.5.6-SNAPSHOT
                      </div>
            <div class="xright">            <a href="https://code.renci.org/gf/project/seqware" class="externalLink">gForge</a>
            |
                <a href="../../hudson">Hudson</a>
              
                         </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>Overview</h5>
                  <ul>
                  <li class="none">
                  <a href="index.html">Home</a>
            </li>
                  <li class="none">
                  <a href="getting-started.html">Getting Started</a>
            </li>
                  <li class="none">
                  <a href="download.html">Download</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                                                                                <li class="expanded">
                  <a href="manual/index.html">Manual</a>
                    <ul>
                      <li class="none">
                  <a href="manual/user-guide/index.html">User Guide</a>
            </li>
                      <li class="none">
                  <a href="manual/developer-guide/index.html">Developer Guide</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>Pipelines</h5>
                  <ul>
                  <li class="none">
                  <a href="casava.html">CASAVA</a>
            </li>
                  <li class="none">
                  <a href="rnaseq.html">RNASeq</a>
            </li>
                  <li class="none">
                  <a href="ncgenes.html">NCGenes</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                    <li class="collapsed">
                  <a href="project-info.html">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                  <a href="project-reports.html">Project Reports</a>
                  </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
    <div class="section">
<h2>Modules<a name="Modules"></a></h2>
      
<div class="section">
<h3>Creating a Module<a name="Creating_a_Module"></a></h3>
	
<p>To start, we need to create a Module or many modules to be used in a workflow.  Take a look at the Echo.java module class.</p>
	
<div>
<pre>
@Application(name = &quot;Echo&quot;, isWorkflowRunIdOptional = true)
@Executable(value = &quot;/bin/echo&quot;)
public class Echo extends Module {

    @Size(min = 0, message = &quot;Greeting is required&quot;, groups = InputValidations.class)
    @NotNull(message = &quot;Greeting is required&quot;, groups = InputValidations.class)
    @InputArgument(delimiter = &quot;&quot;)
    private String greeting;

    @FileIsReadable(message = &quot;File does not exist&quot;, groups = OutputValidations.class)
    @NotNull(message = &quot;Output file name is required&quot;, groups = InputValidations.class)
    @OutputArgument(redirect = true, persistFileData = true)
    private File output;

    public Echo() {
        super();
    }

    @Override
    public Class&lt;?&gt; getModuleClass() {
        return Echo.class;
    }

    public String getGreeting() {
        return greeting;
    }

    public void setGreeting(String greeting) {
        this.greeting = greeting;
    }

    public File getOutput() {
        return output;
    }

    public void setOutput(File output) {
        this.output = output;
    }

}
</pre></div>
	
<p>The contents of this module include: annotations housing declarative metadata, member variables with cooresponding getters and setters, and a call() method that returns a ModuleOutput class.  The class level annotations declare metadata about the application whereas the annotations at the member variable level define inputs, outputs, and JSR 303 validation constraints.</p>
	
<p>Note that the Echo class extends an AbstractModule class.  The AbstractModule class implements Module and partially implements a Module's lifecycle methods init() and cleanUp().   These lifecycle methods are intended to be overridden in the subclass.  AbstractModule also provides a cache for a workflowRunId, a sequencerRunId, a set of related Processing objects, and a set of FileData objects.</p>
      </div>
      
<div class="section">
<h3>Where to put the code?<a name="Where_to_put_the_code"></a></h3>
	
<p>The &quot;&lt;mapseq&gt;/mapseq-modules/&quot; directory houses sub-projects in an attempt to organize Modules into a groups.  For example, &quot;&lt;mapseq&gt;/mapseq-modules/mapseq-module-picard&quot; houses <a class="externalLink" href="http://picard.sourceforge.net/">Picard</a> related Modules which, not suprisingly, wrap Picard executables.  One will not find Modules pertaining to BWA in the Picard module sub-project and vice-versa, no Picard modules will be found in the BWA sub-project.</p>
	
<p>Please respect the package structure conventions: edu.unc.mapseq.module.&lt;associative group name&gt;.  (ie, Picard modules are found in edu.unc.mapseq.module.picard)</p>
      </div>
      
<div class="section">
<h3>Notes<a name="Notes"></a></h3>
	
<p>See <a href="mapseq-modules/index.html">MaPSeq Modules</a> for examples and assumptions.</p>
	
<p>For a more complete list of Bean Validation annotations, please see the <a class="externalLink" href="http://docs.jboss.org/hibernate/validator/4.2/api/">Hibernate Validator Javadocs</a></p>
	
<p>For building your own custom Bean Validation constraints, please see <a class="externalLink" href="http://docs.jboss.org/hibernate/validator/4.0.1/reference/en/html/validator-customconstraints.html">this documentation</a>.</p>
	
<p>See <a href="build.html">build instructions</a>.</p>
	
<p><a class="externalLink" href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">Maven directory structure conventions</a></p>
      </div>
    </div>
    
<p><span id="pageNavLeft"><a href="frontToEndIntegration.html"> &lt;&lt; Back</a></span><span id="pageNavRight"><a href="frontToEndIntegration-step2.html">Continue &gt;&gt;</a></span></p>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2014
              UNC
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2014-09-11
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>MaPSeq - </title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20140911" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                  <span id="bannerLeft">
                Massively Parallel Sequencing
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                   <div class="xleft">
        Last Published: 2014-09-11
                  &nbsp;| Version: 0.5.6-SNAPSHOT
                      </div>
            <div class="xright">        
                         </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>Overview</h5>
                  <ul>
                  <li class="none">
                  <a href="../index.html">Home</a>
            </li>
                  <li class="none">
                  <a href="../getting-started.html">Getting Started</a>
            </li>
                  <li class="none">
                  <a href="../download.html">Download</a>
            </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                                                                                <li class="expanded">
                  <a href="../manual/index.html">Manual</a>
                    <ul>
                      <li class="none">
                  <a href="../manual/user-guide/index.html">User Guide</a>
            </li>
                      <li class="none">
                  <a href="../manual/developer-guide/index.html">Developer Guide</a>
            </li>
              </ul>
        </li>
                                                                        <li class="expanded">
                  <a href="../migration/index.html">Migration</a>
                    <ul>
                      <li class="none">
            <strong>v0.4 to v0.5</strong>
          </li>
              </ul>
        </li>
          </ul>
                       <h5>Pipelines</h5>
                  <ul>
                  <li class="none">
                  <a href="../casava.html">CASAVA</a>
            </li>
                  <li class="none">
                  <a href="../rnaseq.html">RNASeq</a>
            </li>
                  <li class="none">
                  <a href="../ncgenes.html">NCGenes</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                    <li class="collapsed">
                  <a href="../project-info.html">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                  <a href="../project-reports.html">Project Reports</a>
                  </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
    <div class="section">
<h2>Migrating from v0.4 to v0.5<a name="Migrating_from_v0.4_to_v0.5"></a></h2>
      
<div class="section">
<h3>1. Entity Changes<a name="a1._Entity_Changes"></a></h3>
	
	
<ul>
	  
<li>Account has been removed</li>
	  
<li>WorkflowPlan has been removed</li>
	  
<li>HTSFSample has been renamed to Sample</li>
	  
<li>SequencerRun has been renamed to Flowcell</li>
	  
<li>Platform has been removed</li>
	</ul>
      </div>
      
<div class="section">
<h3>2. ActiveMQ Messaging changes (JSON)<a name="a2._ActiveMQ_Messaging_changes_JSON"></a></h3>

  
<p>
    Due to the Entity changes, there are some changes required to the JSON sent to the message queue destinations. So
    the following, <br />
  </p>
<div>
<pre>
{
  &quot;account_name&quot;:&quot;rc_lbg.svc&quot;,
  &quot;entities&quot;:
  [
    {
      &quot;entity_type&quot;:&quot;HTSFSample&quot;,
      &quot;guid&quot;:&quot;12341234132&quot;
    },
    {
      &quot;entity_type&quot;:&quot;WorkflowRun&quot;,
      &quot;name&quot;:&quot;RNASeq-12341234132&quot;,
      &quot;attributes&quot;:
      [
        {
          &quot;name&quot;:&quot;GATKDepthOfCoverage.interval_list.version&quot;,
          &quot;value&quot;:&quot;123&quot;
        },
        {
          &quot;name&quot;:&quot;SAMToolsView.dx.id&quot;,
          &quot;value&quot;:&quot;123&quot;
        }
      ]
    }
  ]
}</pre></div>
  Becomes:
  <br />
  
<div>
<pre>
{
  &quot;entities&quot;:
  [
    {
      &quot;entityType&quot;:&quot;Sample&quot;,
      &quot;id&quot;:&quot;12341234132&quot;
    },
    {
      &quot;entityType&quot;:&quot;WorkflowRun&quot;,
      &quot;name&quot;:&quot;RNASeq-12341234132&quot;,
      &quot;attributes&quot;:
      [
        {
          &quot;name&quot;:&quot;GATKDepthOfCoverage.interval_list.version&quot;,
          &quot;value&quot;:&quot;123&quot;
        },
        {
          &quot;name&quot;:&quot;SAMToolsView.dx.id&quot;,
          &quot;value&quot;:&quot;123&quot;
        }
      ]
    }
  ]
}</pre></div>
  
      </div>
  
<div class="section">
<h3>3. MaPSeq commands in Karaf<a name="a3._MaPSeq_commands_in_Karaf"></a></h3>

  
<ul>
    
<li>mapseq:list-platforms has been removed</li>
    
<li>mapseq:list-my-workflow-runs is now mapseq:list-workflow-runs</li>
    
<li>mapseq:list-sequencer-runs is now mapseq:list-flowcells</li>
    
<li>mapseq:list-htsf-samples is now mapseq:list-samples</li>
    
<li>mapseq:list-htsf-sample-attributes is now mapseq:list-sample-attributes</li>
  </ul>

  
<p>The formatting of mapseq:list-workflow-runs incorporates the new feature of WorkflowRun instances having a one
    to many relationship with attempts.</p>

  
<div>
<pre>
karaf@mapseq()&gt; list-workflow-runs 8
ID           Workflow Run Name                                      Created Date       Start Date         End Date           Status       Condor JobId   Submit Directory
2000367      140811_UNC14-SN744_0485_AHAAW5ADXX_CASAVA              8/14/14 1:15 PM
--           --                                                     8/14/14 1:15 PM    8/15/14 3:15 PM    8/17/14 9:19 AM    DONE         1406086        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-15/CASAVA/1ecf518a-d635-49b2-b140-99d3ddb7ab9c
2004634      140812_UNC18-D00493_0098_BHAAYBADXX_CASAVA             8/15/14 5:15 PM
--           --                                                     8/15/14 5:15 PM    8/15/14 11:44 PM   8/17/14 12:31 PM   DONE         1406932        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-15/CASAVA/56b2cd2f-5099-4944-b1d7-40fded66b688
2004987      140812_UNC18-D00493_0097_AHAAW1ADXX_CASAVA             8/15/14 7:15 PM
--           --                                                     8/15/14 7:15 PM    8/17/14 9:20 AM    8/17/14 7:24 PM    DONE         1409350        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-17/CASAVA/700a976e-aac7-4d17-affb-52af1bd62444
2013542      140813_UNC16-SN851_0408_AHA9WLADXX_CASAVA              8/18/14 5:15 PM
--           --                                                     8/18/14 5:15 PM    8/19/14 10:24 AM   8/19/14 12:52 PM   DONE         1414422        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/1e2f9b10-51a4-4172-bcca-f4d09a79d117
2013738      140813_UNC14-SN744_0487_BHAATMADXX_CASAVA              8/18/14 5:15 PM
--           --                                                     8/18/14 5:15 PM    8/19/14 10:24 AM   8/19/14 12:58 PM   DONE         1414423        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/fd3e0989-39c2-4d12-a9e8-adc1e5e1de42
2014104      140813_UNC16-SN851_0409_BHA9CUADXX_CASAVA              8/18/14 6:15 PM
--           --                                                     8/18/14 6:15 PM    8/19/14 12:53 PM   8/19/14 11:33 PM   DONE         1415885        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/fd92c6eb-5460-42c3-966e-7a63a4e8182f
</pre></div>

  
<p>Note that attempts don't have an ID or NAME value &amp; WorkflowRun instances don't have start/end dates, status,
    job identifiers, or submit directories.</p>
  </div>
  
<div class="section">
<h3>4. MaPSeq web services<a name="a4._MaPSeq_web_services"></a></h3>

  
<p>
    For reference, here is the <a href="../schema1.xsd">MaPSeq DAO XSD</a> and the <a href="../images/edu.unc.mapseq.ws.png">Web
      Service API</a>
  </p>

  
<p>Note that NamedEntity instances have the fileDatas wrapped such that &quot;files&quot; collections have &quot;file&quot; elements.
    Similarly, attributes are treated the same. This only applies to the SOAP services where XML (de)serialization
    strictly adheres to the annotations. For the REST services, the XML annotations are not binding since the JSON
    provider doesn't map collections similarly.</p>
</div>
  </div>


      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2014
              UNC
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>

<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-08-21 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150821" />
    <meta http-equiv="Content-Language" content="en" />
    <title>MaPSeq - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Massively Parallel Sequencing</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.renci.org" id="bannerRight">
                                                                                                <img src="../images/renci-logo.png"  alt="RENCI"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-08-21
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.5.44-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                
      <li>
  
                          <a href="../faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="../download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="../overview.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="../manual/index.html" title="Manual">
          <i class="icon-chevron-down"></i>
        Manual</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../manual/building.html" title="Building">
          <i class="none"></i>
        Building</a>
            </li>
                    
      <li>
  
                          <a href="../manual/modules.html" title="Modules">
          <i class="none"></i>
        Modules</a>
            </li>
                    
      <li>
  
                          <a href="../manual/workflows.html" title="Workflows">
          <i class="none"></i>
        Workflows</a>
            </li>
                    
      <li>
  
                          <a href="../manual/pipelines.html" title="Pipelines">
          <i class="none"></i>
        Pipelines</a>
            </li>
                    
      <li>
  
                          <a href="../manual/pipeline-archetype.html" title="Pipeline Archetype">
          <i class="none"></i>
        Pipeline Archetype</a>
            </li>
                    
      <li>
  
                          <a href="../manual/commands.html" title="Commands">
          <i class="none"></i>
        Commands</a>
            </li>
                    
      <li>
  
                          <a href="../manual/reporting.html" title="Reporting">
          <i class="none"></i>
        Reporting</a>
            </li>
                    
      <li>
  
                          <a href="../manual/ws-clients.html" title="Web Service clients">
          <i class="none"></i>
        Web Service clients</a>
            </li>
              </ul>
        </li>
                                                                      
      <li>
  
                          <a href="../migration/index.html" title="Migration">
          <i class="icon-chevron-down"></i>
        Migration</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>v0.4 to v0.5</a>
          </li>
              </ul>
        </li>
                              <li class="nav-header">Pipelines</li>
                              
      <li>
  
                          <a href="../pipelines/unc.html" title="UNC Pipelines">
          <i class="none"></i>
        UNC Pipelines</a>
            </li>
                
      <li>
  
                          <a href="../pipelines/renci.html" title="RENCI Pipelines">
          <i class="none"></i>
        RENCI Pipelines</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                            
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            
  
    <div class="section">
<h2>Migrating from v0.4 to v0.5<a name="Migrating_from_v0.4_to_v0.5"></a></h2>
      
<div class="section">
<h3>1. Entity Changes<a name="a1._Entity_Changes"></a></h3>
	
	
<ul>
	  
<li>Account has been removed</li>
	  
<li>WorkflowPlan has been removed</li>
	  
<li>HTSFSample has been renamed to Sample</li>
	  
<li>SequencerRun has been renamed to Flowcell</li>
	  
<li>Platform has been removed</li>
	</ul>
      </div>
      
<div class="section">
<h3>2. ActiveMQ Messaging changes (JSON)<a name="a2._ActiveMQ_Messaging_changes_JSON"></a></h3>

  
<p>
    Due to the Entity changes, there are some changes required to the JSON sent to the message queue destinations. So
    the following, <br />
  </p>
<div>
<pre>
{
  &quot;account_name&quot;:&quot;rc_lbg.svc&quot;,
  &quot;entities&quot;:
  [
    {
      &quot;entity_type&quot;:&quot;HTSFSample&quot;,
      &quot;guid&quot;:&quot;12341234132&quot;
    },
    {
      &quot;entity_type&quot;:&quot;WorkflowRun&quot;,
      &quot;name&quot;:&quot;RNASeq-12341234132&quot;,
      &quot;attributes&quot;:
      [
        {
          &quot;name&quot;:&quot;GATKDepthOfCoverage.interval_list.version&quot;,
          &quot;value&quot;:&quot;123&quot;
        },
        {
          &quot;name&quot;:&quot;SAMToolsView.dx.id&quot;,
          &quot;value&quot;:&quot;123&quot;
        }
      ]
    }
  ]
}</pre></div>
  Becomes:
  <br />
  
<div>
<pre>
{
  &quot;entities&quot;:
  [
    {
      &quot;entityType&quot;:&quot;Sample&quot;,
      &quot;id&quot;:&quot;12341234132&quot;
    },
    {
      &quot;entityType&quot;:&quot;WorkflowRun&quot;,
      &quot;name&quot;:&quot;RNASeq-12341234132&quot;,
      &quot;attributes&quot;:
      [
        {
          &quot;name&quot;:&quot;GATKDepthOfCoverage.interval_list.version&quot;,
          &quot;value&quot;:&quot;123&quot;
        },
        {
          &quot;name&quot;:&quot;SAMToolsView.dx.id&quot;,
          &quot;value&quot;:&quot;123&quot;
        }
      ]
    }
  ]
}</pre></div>
  
      </div>
  
<div class="section">
<h3>3. MaPSeq commands in Karaf<a name="a3._MaPSeq_commands_in_Karaf"></a></h3>

  
<ul>
    
<li>mapseq:list-platforms has been removed</li>
    
<li>mapseq:list-my-workflow-runs is now mapseq:list-workflow-runs</li>
    
<li>mapseq:list-sequencer-runs is now mapseq:list-flowcells</li>
    
<li>mapseq:list-htsf-samples is now mapseq:list-samples</li>
    
<li>mapseq:list-htsf-sample-attributes is now mapseq:list-sample-attributes</li>
  </ul>

  
<p>The formatting of mapseq:list-workflow-runs incorporates the new feature of WorkflowRun instances having a one
    to many relationship with attempts.</p>

  
<div>
<pre>
karaf@mapseq()&gt; list-workflow-runs 8
ID           Workflow Run Name                                      Created Date       Start Date         End Date           Status       Condor JobId   Submit Directory
2000367      140811_UNC14-SN744_0485_AHAAW5ADXX_CASAVA              8/14/14 1:15 PM
--           --                                                     8/14/14 1:15 PM    8/15/14 3:15 PM    8/17/14 9:19 AM    DONE         1406086        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-15/CASAVA/1ecf518a-d635-49b2-b140-99d3ddb7ab9c
2004634      140812_UNC18-D00493_0098_BHAAYBADXX_CASAVA             8/15/14 5:15 PM
--           --                                                     8/15/14 5:15 PM    8/15/14 11:44 PM   8/17/14 12:31 PM   DONE         1406932        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-15/CASAVA/56b2cd2f-5099-4944-b1d7-40fded66b688
2004987      140812_UNC18-D00493_0097_AHAAW1ADXX_CASAVA             8/15/14 7:15 PM
--           --                                                     8/15/14 7:15 PM    8/17/14 9:20 AM    8/17/14 7:24 PM    DONE         1409350        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-17/CASAVA/700a976e-aac7-4d17-affb-52af1bd62444
2013542      140813_UNC16-SN851_0408_AHA9WLADXX_CASAVA              8/18/14 5:15 PM
--           --                                                     8/18/14 5:15 PM    8/19/14 10:24 AM   8/19/14 12:52 PM   DONE         1414422        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/1e2f9b10-51a4-4172-bcca-f4d09a79d117
2013738      140813_UNC14-SN744_0487_BHAATMADXX_CASAVA              8/18/14 5:15 PM
--           --                                                     8/18/14 5:15 PM    8/19/14 10:24 AM   8/19/14 12:58 PM   DONE         1414423        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/fd3e0989-39c2-4d12-a9e8-adc1e5e1de42
2014104      140813_UNC16-SN851_0409_BHA9CUADXX_CASAVA              8/18/14 6:15 PM
--           --                                                     8/18/14 6:15 PM    8/19/14 12:53 PM   8/19/14 11:33 PM   DONE         1415885        /nas02/home/r/c/rc_renci.svc/mapseq/submit/2014-08-19/CASAVA/fd92c6eb-5460-42c3-966e-7a63a4e8182f
</pre></div>

  
<p>Note that attempts don't have an ID or NAME value &amp; WorkflowRun instances don't have start/end dates, status,
    job identifiers, or submit directories.</p>
  </div>
  
<div class="section">
<h3>4. MaPSeq web services<a name="a4._MaPSeq_web_services"></a></h3>

  
<p>
    For reference, here is the <a href="../schema1.xsd">MaPSeq DAO XSD</a> and the <a href="../images/edu.unc.mapseq.ws.png">Web
      Service API</a>
  </p>

  
<p>Note that NamedEntity instances have the fileDatas wrapped such that &quot;files&quot; collections have &quot;file&quot; elements.
    Similarly, attributes are treated the same. This only applies to the SOAP services where XML (de)serialization
    strictly adheres to the annotations. For the REST services, the XML annotations are not binding since the JSON
    provider doesn't map collections similarly.</p>
</div>
  </div>


                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2015
                        <a href="http://www.unc.edu/">UNC</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>

<document>
  <body>
    <section name="Workflows">
      <subsection name="Creating a Workflow">
	<p>Now that a Module has been created, we need to incorporate that Module into a workflow.  The following is taken from the HelloWorldWorkflow class:</p>
	<pre><![CDATA[
public class HelloWorldPipeline extends AbstractPipeline {

    public HelloWorldWorkflow() {
        super();
    }

    @Override
    public Graph<CondorJob, CondorJobEdge> createGraph() throws PipelineException {
	DirectedGraph<CondorJob, CondorJobEdge> graph = new DefaultDirectedGraph<CondorJob, CondorJobEdge>(
                CondorJobEdge.class);
        int count = 0;
        for (HelloWorldBean bean : beanSet) {
	    CondorJob echoJob = PipelineJobFactory.createJob(++count, EchoCLI.class, getWorkflowPlan());
            echoJob.addArgument(EchoCLI.GREETING, bean.getMessage());
            echoJob.addArgument(EchoCLI.OUTPUT, new File("/tmp", "helloWorld_" + count + ".txt"));
            dax.addVertex(job);
        }

        return graph;
    }

}]]></pre>
	<p>Note that the EchoCLI class is used instead of the Echo module class.  The reason behind this is to reduce boilerplate code by means of code generation.  When a module is created, a corresponding CLI class is created in a separate maven sub-project.  Maven is used to chain the dependecies.</p>
      </subsection>
      <subsection name="Where to put the code?">
	<p>The "&lt;mapseq&gt;/mapseq-pipelines/" directory houses sub-projects which maintain a separation of Pipelines and their dependencies.</p>
	<p>Please respect the package structure conventions: edu.unc.mapseq.pipeline.&lt;pipeline name&gt;.  (ie, the HelloWorld Pipeline is found in edu.unc.mapseq.pipeline.helloworld)</p>
      </subsection>      
      <subsection name="Notes">
	<p>See <a href="mapseq-pipelines/sampleWorkflow.html">Sample Workflow</a></p>
      </subsection>
    </section>
    <p><span id="pageNavLeft"><a href="frontToEndIntegration-step1.html"> &lt;&lt; Back</a></span><span id="pageNavRight"><a href="frontToEndIntegration-step3.html">Continue &gt;&gt;</a></span></p>
  </body>
</document>
